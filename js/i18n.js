// js/i18n.js
const translations = {
    en: {
        dashboard: 'Dashboard',
        products: 'Products',
        suppliers: 'Suppliers',
        warehouses: 'Warehouses',
        categories: 'Categories',
        purchaseOrders: 'Purchase Orders',
        logout: 'Logout',
        language: 'Language',
        login: 'Login',
        username: 'Username',
        password: 'Password',
        connect: 'Connect',
        addProduct: 'Add Product',
        name: 'Name',
        category: 'Category',
        price: 'Price',
        stock: 'Stock',
        supplier: 'Supplier',
        actions: 'Actions',
        productForm: 'Product Form',
        save: 'Save',
        exportCSV: 'Export CSV',
        addSupplier: 'Add Supplier',
        contact: 'Contact',
        address: 'Address',
        supplierForm: 'Supplier Form',
        addWarehouse: 'Add Warehouse',
        location: 'Location',
        capacity: 'Capacity',
        warehouseForm: 'Warehouse Form',
        addCategory: 'Add Category',
        description: 'Description',
        categoryForm: 'Category Form',
        addPurchaseOrder: 'Add Purchase Order',
        product: 'Product',
        quantity: 'Quantity',
        date: 'Date',
        purchaseOrderForm: 'Purchase Order Form',
        details: 'Details',
        notFound: 'Item not found',
        exportPDF: 'Export PDF',
        totalProducts: 'Total Products',
        totalSuppliers: 'Total Suppliers',
        lowStock: 'Low Stock Items',
        totalOrders: 'Total Orders',
        totalCategories: 'Total Categories',
        allSuppliers: 'All Suppliers'
    },
    fr: {
        dashboard: 'Tableau de bord',
        products: 'Produits',
        suppliers: 'Fournisseurs',
        warehouses: 'Entrepôts',
        categories: 'Catégories',
        purchaseOrders: 'Commandes d\'Achat',
        logout: 'Déconnexion',
        language: 'Langue',
        login: 'Connexion',
        username: 'Nom d\'utilisateur',
        password: 'Mot de passe',
        connect: 'Se connecter',
        addProduct: 'Ajouter Produit',
        name: 'Nom',
        category: 'Catégorie',
        price: 'Prix',
        stock: 'Stock',
        supplier: 'Fournisseur',
        actions: 'Actions',
        productForm: 'Formulaire Produit',
        save: 'Enregistrer',
        exportCSV: 'Exporter CSV',
        addSupplier: 'Ajouter Fournisseur',
        contact: 'Contact',
        address: 'Adresse',
        supplierForm: 'Formulaire Fournisseur',
        addWarehouse: 'Ajouter Entrepôt',
        location: 'Localisation',
        capacity: 'Capacité',
        warehouseForm: 'Formulaire Entrepôt',
        addCategory: 'Ajouter Catégorie',
        description: 'Description',
        categoryForm: 'Formulaire Catégorie',
        addPurchaseOrder: 'Ajouter Commande d\'Achat',
        product: 'Produit',
        quantity: 'Quantité',
        date: 'Date',
        purchaseOrderForm: 'Formulaire Commande d\'Achat',
        details: 'Détails',
        notFound: 'Élément non trouvé',
        exportPDF: 'Exporter PDF',
        totalProducts: 'Total Produits',
        totalSuppliers: 'Total Fournisseurs',
        lowStock: 'Articles en Stock Bas',
        totalOrders: 'Total Commandes',
        totalCategories: 'Total Catégories',
        allSuppliers: 'Tous les Fournisseurs'
    },
    ar: {
        dashboard: 'لوحة القيادة',
        products: 'المنتجات',
        suppliers: 'الموردين',
        warehouses: 'المستودعات',
        categories: 'الفئات',
        purchaseOrders: 'طلبات الشراء',
        logout: 'تسجيل الخروج',
        language: 'اللغة',
        login: 'تسجيل الدخول',
        username: 'اسم المستخدم',
        password: 'كلمة المرور',
        connect: 'الاتصال',
        addProduct: 'إضافة منتج',
        name: 'الاسم',
        category: 'الفئة',
        price: 'السعر',
        stock: 'المخزون',
        supplier: 'المورد',
        actions: 'الإجراءات',
        productForm: 'نموذج المنتج',
        save: 'حفظ',
        exportCSV: 'تصدير CSV',
        addSupplier: 'إضافة مورد',
        contact: 'الاتصال',
        address: 'العنوان',
        supplierForm: 'نموذج المورد',
        addWarehouse: 'إضافة مستودع',
        location: 'الموقع',
        capacity: 'السعة',
        warehouseForm: 'نموذج المستودع',
        addCategory: 'إضافة فئة',
        description: 'الوصف',
        categoryForm: 'نموذج الفئة',
        addPurchaseOrder: 'إضافة طلب شراء',
        product: 'المنتج',
        quantity: 'الكمية',
        date: 'التاريخ',
        purchaseOrderForm: 'نموذج طلب الشراء',
        details: 'التفاصيل',
        notFound: 'العنصر غير موجود',
        exportPDF: 'تصدير PDF',
        totalProducts: 'إجمالي المنتجات',
        totalSuppliers: 'إجمالي الموردين',
        lowStock: 'عناصر مخزون منخفض',
        totalOrders: 'إجمالي الطلبات',
        totalCategories: 'إجمالي الفئات',
        allSuppliers: 'جميع الموردين'
    }
};

function setLanguage(lang) {
    localStorage.setItem('lang', lang);
    location.reload();
}

document.addEventListener('DOMContentLoaded', () => {
    const lang = localStorage.getItem('lang') || 'fr';
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.dataset.i18n;
        if (translations[lang][key]) {
            el.textContent = translations[lang][key];
        }
    });
    if (lang === 'ar') {
        document.body.setAttribute('dir', 'rtl');
        document.body.style.textAlign = 'right';
    } else {
        document.body.setAttribute('dir', 'ltr');
        document.body.style.textAlign = 'left';
    }
});